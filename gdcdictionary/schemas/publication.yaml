$schema: "http://json-schema.org/draft-04/schema#"

id: "publication"
title: Publication
type: object
namespace: http://gen3.niehs.nih.gov
category: administrative
program: '*'
project: '*'
description: "Publication is a process - the act of issuing printed materials synonym: printed materials includes peer-reviewed journal articles, DNTP reports, white papers, deposition of data in SRA, etc. metadata: date of publication, authors, contact information, supporting data location, link to data in other databases,  GEO: species taxon and platform ID"
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - state
  - created_datetime
  - updated_datetime

links:
  - name: projects
    backref: publications
    label: refers_to
    target_type: project
    multiplicity: many_to_many
    required: true

required:
  - submitter_id
  - type
  - projects

uniqueKeys:
  - [ id ]
  - [ project_id, submitter_id ]

properties:
  type:
    enum: [ "publication" ]
  id:
    $ref: "_definitions.yaml#/UUID"
    systemAlias: node_id
  state:
    $ref: "_definitions.yaml#/state"
  submitter_id:
    type:
      - string
      - "null"
  pmid:
    type: string
  doi:
    type: string
  projects:
    $ref: "_definitions.yaml#/to_many_project"
  project_id:
    type: string
  created_datetime:
    $ref: "_definitions.yaml#/datetime"
  updated_datetime:
    $ref: "_definitions.yaml#/datetime"

  # CEBS added properties
  publication_id:
    type: string
    description: "PUBMED ID for publication ID[PUBLICATION:PUBMED_ID]"
  document_title:
    type: string
    description: "Title/document_title for publication[PUBLICATION:Document_tile/Title]"
  data_links:
    type: array
    minItems: 1
    items:
      data_link:
        type: string
        description: "link(ftp/sra) to data [PUBLICATION:DATA LINK]"
  authors:
    type: array
    minItems: 1
    items:
        author:
          type: string
          description: "author name [PUBLICATION:Author]"

  # not sure if following properties are needed here!!
  parent_project:
    type: string
    description: "parent project for publication [PUBLICATION: PARENT INVESTIGATION]"
  child_project:
    type: string
    description: "child study for publication [PUBLICATION: CHILD STUDY]"
  species:
    type: string
    decription: "species/animal [PUBLICATION: Species]"
  chemical:
    type: string
    description: "chemical used [PUBLICATION: chemical]"